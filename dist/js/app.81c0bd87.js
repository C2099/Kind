(function(e){function t(t){for(var r,c,i=t[0],s=t[1],u=t[2],b=0,p=[];b<i.length;b++)c=i[b],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0206":function(e,t,n){},"0e21":function(e,t,n){},"55d0":function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_onwer","type":"address"},{"indexed":false,"internalType":"uint256","name":"_tokenId","type":"uint256"},{"indexed":false,"internalType":"string","name":"metedate","type":"string"}],"name":"CFXCAUC1Mint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOperator","type":"address"},{"indexed":true,"internalType":"address","name":"newOperator","type":"address"}],"name":"OperatorTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"value","type":"string"},{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"URI","type":"event"},{"inputs":[],"name":"SPONSOR","outputs":[{"internalType":"contract SponsorWhitelistControl","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_manager","type":"address"}],"name":"addManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_miner","type":"address"}],"name":"addMiner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOperator","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"managers","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"miners","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"ownerOfAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"price","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_manager","type":"address"}],"name":"removeManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_miner","type":"address"}],"name":"removeMiner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tokenMetaDate","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOperator_","type":"address"}],"name":"transferOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"setPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_baseUri","type":"string"}],"name":"setBaseUri","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"isTokenOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"tokensOf","outputs":[{"internalType":"uint256[]","name":"_tokens","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_metadateUri","type":"string"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"string","name":"_metadateUri","type":"string"}],"name":"addItem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"batchAddItemByNumber","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_initialOwners","type":"address[]"},{"internalType":"string[]","name":"_uris","type":"string[]"}],"name":"batchAddItemByAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"withdrawMain","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},"56d7":function(e,t,n){"use strict";n.r(t);n("4edc"),n("ad28"),n("29aa"),n("ec12");var r=n("0fdf");function a(e,t){var n=Object(r["H"])("router-view");return Object(r["A"])(),Object(r["g"])(n)}var o=n("1bfb"),c={name:"App",setup:function(){var e=Object(o["a"])();e.dark.set(!0)}};n("64be");c.render=a;var i=c,s=n("42fa"),u=["src"],l=Object(r["j"])("span",{class:"text-h6 text-weight-bold"}," KIND",-1),b=Object(r["k"])(" 会话列表 "),p=Object(r["k"])(" 群组列表 "),f=Object(r["k"])(" NFT GROUP "),d=Object(r["k"])(" My NFT "),j=Object(r["k"])(" Community "),m=Object(r["k"])(" Market "),O=Object(r["k"])(" Settings "),g=Object(r["j"])("img",{src:"https://cdn.quasar.dev/img/avatar1.jpg"},null,-1),v=Object(r["k"])(" Profile ");function y(e,t){var n=Object(r["H"])("icon"),a=Object(r["H"])("q-toolbar-title"),o=Object(r["H"])("q-btn"),c=Object(r["H"])("q-toolbar"),i=Object(r["H"])("q-header"),s=Object(r["H"])("q-tooltip"),y=Object(r["H"])("q-icon"),h=Object(r["H"])("q-item-section"),x=Object(r["H"])("q-item"),_=Object(r["H"])("q-avatar"),C=Object(r["H"])("q-list"),T=Object(r["H"])("q-drawer"),P=Object(r["H"])("q-page-container"),w=Object(r["H"])("q-layout"),M=Object(r["I"])("ripple");return Object(r["A"])(),Object(r["g"])(w,{view:"lHh LpR lFr"},{default:Object(r["P"])((function(){return[Object(r["l"])(T,{"show-if-above":"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.leftDrawerOpen=t}),side:"left",elevated:"",class:"bg-grey-10",width:340},{default:Object(r["P"])((function(){return[Object(r["l"])(w,{view:"hHh Lpr lff",class:"shadow-2 rounded-borders",dark:""},{default:Object(r["P"])((function(){return[Object(r["l"])(i,{elevated:"",class:"bg-grey-10"},{default:Object(r["P"])((function(){return[Object(r["l"])(c,null,{default:Object(r["P"])((function(){return[Object(r["l"])(a,null,{default:Object(r["P"])((function(){return[Object(r["j"])("img",{src:e.logo,style:{width:"42%"}},null,8,u),l,Object(r["l"])(n,{name:"google_circles_communities"})]})),_:1}),Object(r["l"])(o,{round:"",flat:"",icon:"refresh",onClick:e.handleRefresh},null,8,["onClick"]),Object(r["l"])(o,{dense:"",flat:"",round:"",icon:"close",onClick:e.toggleLeftDrawer},null,8,["onClick"])]})),_:1})]})),_:1}),Object(r["l"])(T,{modelValue:e.drawer,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.drawer=t}),width:55,dark:"",breakpoint:10,behavior:"desktop","show-if-above":""},{default:Object(r["P"])((function(){return[Object(r["l"])(C,null,{default:Object(r["P"])((function(){return[Object(r["Q"])(Object(r["l"])(x,{active:"conversation-list"==e.currentLeftTab,clickable:"",class:"q-pa-none q-ma-xs rounded-borders","active-class":"text-white bg-grey-9",onClick:t[0]||(t[0]=function(t){return e.currentLeftTab="conversation-list"})},{default:Object(r["P"])((function(){return[Object(r["l"])(h,{avatar:"",class:"q-pa-none items-center",style:{"min-width":"47px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(y,{name:"view_list"},{default:Object(r["P"])((function(){return[Object(r["l"])(s,{anchor:"center right",self:"center left"},{default:Object(r["P"])((function(){return[b]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["active"]),[[M]]),Object(r["Q"])(Object(r["l"])(x,{active:"group-list"==e.currentLeftTab,clickable:"",class:"q-pa-none q-ma-xs rounded-borders","active-class":"text-white bg-grey-9",onClick:t[1]||(t[1]=function(t){return e.currentLeftTab="group-list"})},{default:Object(r["P"])((function(){return[Object(r["l"])(h,{avatar:"",class:"q-pa-none items-center",style:{"min-width":"47px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(y,{name:"people"},{default:Object(r["P"])((function(){return[Object(r["l"])(s,{anchor:"center right",self:"center left"},{default:Object(r["P"])((function(){return[p]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["active"]),[[M]]),Object(r["Q"])(Object(r["l"])(x,{active:"nft-list"==e.currentLeftTab,clickable:"",class:"q-pa-none q-ma-xs rounded-borders","active-class":"text-white bg-grey-9",onClick:t[2]||(t[2]=function(t){return e.currentLeftTab="nft-list"})},{default:Object(r["P"])((function(){return[Object(r["l"])(h,{avatar:"",class:"q-pa-none items-center",style:{"min-width":"47px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(y,{name:"accessibility_new"},{default:Object(r["P"])((function(){return[Object(r["l"])(s,{anchor:"center right",self:"center left"},{default:Object(r["P"])((function(){return[f]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["active"]),[[M]]),Object(r["Q"])(Object(r["l"])(x,{clickable:"",class:"q-pa-none q-ma-xs rounded-borders","active-class":"text-white bg-grey-9",onClick:e.test},{default:Object(r["P"])((function(){return[Object(r["l"])(h,{avatar:"",class:"q-pa-none items-center",style:{"min-width":"47px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(y,{name:"request_quote"},{default:Object(r["P"])((function(){return[Object(r["l"])(s,{anchor:"center right",self:"center left"},{default:Object(r["P"])((function(){return[d]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["onClick"]),[[M]]),Object(r["Q"])(Object(r["l"])(x,{clickable:"",class:"q-pa-none q-ma-xs rounded-borders","active-class":"text-white bg-grey-9",onClick:e.test},{default:Object(r["P"])((function(){return[Object(r["l"])(h,{avatar:"",class:"q-pa-none items-center",style:{"min-width":"47px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(y,{name:"blur_on"},{default:Object(r["P"])((function(){return[Object(r["l"])(s,{anchor:"center right",self:"center left"},{default:Object(r["P"])((function(){return[j]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["onClick"]),[[M]]),Object(r["Q"])(Object(r["l"])(x,{clickable:"",class:"q-pa-none q-ma-xs rounded-borders","active-class":"text-white bg-grey-9",onClick:e.test},{default:Object(r["P"])((function(){return[Object(r["l"])(h,{avatar:"",class:"q-pa-none items-center",style:{"min-width":"47px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(y,{name:"shopping_basket"},{default:Object(r["P"])((function(){return[Object(r["l"])(s,{anchor:"center right",self:"center left"},{default:Object(r["P"])((function(){return[m]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["onClick"]),[[M]]),Object(r["Q"])(Object(r["l"])(x,{clickable:"",class:"q-pa-none q-ma-xs rounded-borders","active-class":"text-white bg-grey-9",onClick:e.test},{default:Object(r["P"])((function(){return[Object(r["l"])(h,{avatar:"",class:"q-pa-none items-center",style:{"min-width":"47px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(y,{name:"settings"},{default:Object(r["P"])((function(){return[Object(r["l"])(s,{anchor:"center right",self:"center left"},{default:Object(r["P"])((function(){return[O]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["onClick"]),[[M]]),Object(r["Q"])(Object(r["l"])(x,{clickable:"",class:"q-pa-none q-ma-xs rounded-borders","active-class":"text-white bg-grey-9",onClick:e.test},{default:Object(r["P"])((function(){return[Object(r["l"])(h,{avatar:"",class:"q-pa-none items-center",style:{"min-width":"47px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(_,null,{default:Object(r["P"])((function(){return[g,Object(r["l"])(s,{anchor:"center right",self:"center left"},{default:Object(r["P"])((function(){return[v]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["onClick"]),[[M]])]})),_:1})]})),_:1},8,["modelValue"]),Object(r["l"])(P,null,{default:Object(r["P"])((function(){return[(Object(r["A"])(),Object(r["g"])(Object(r["J"])(e.currentLeftDrawerComponent)))]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),e.showRightDrawer?(Object(r["A"])(),Object(r["g"])(T,{key:0,"show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.rightDrawerOpen=t}),side:"right",elevated:"",class:"bg-grey-10",width:245},{default:Object(r["P"])((function(){return[(Object(r["A"])(),Object(r["g"])(Object(r["J"])(e.currentRightDrawerComponent)))]})),_:1},8,["modelValue"])):Object(r["h"])("",!0),Object(r["l"])(P,{class:"bg-grey-10"},{default:Object(r["P"])((function(){return[(Object(r["A"])(),Object(r["g"])(Object(r["J"])(e.currentContainerComponent),{onToggleLeftDrawer:e.toggleLeftDrawer,onToggleRightDrawer:e.toggleRightDrawer},null,8,["onToggleLeftDrawer","onToggleRightDrawer"]))]})),_:1})]})),_:1})}var h=n("06c4"),x=(n("b8bb"),n("4c4d"),n("75b3")),_=n.n(x),C=n("767c"),T={key:0},P={class:"text-subtitle2 text-weight-bold q-pl-md"},w=Object(r["k"])("Contact Message"),M=Object(r["k"])("Block"),k=Object(r["k"])("Select Message"),L=Object(r["k"])("Clear Message"),A=Object(r["k"])(" Settings "),I=Object(r["k"])(" Member List "),S=Object(r["k"])(" 收件箱 "),q=Object(r["k"])(" 帮助 "),D={class:"justify-center row q-pt-sm"},H={key:1,class:"text-caption text-grey"},Q=Object(r["k"])(" 回到最新位置 "),E={key:1};function R(e,t){var n=Object(r["H"])("q-badge"),a=Object(r["H"])("q-btn"),o=Object(r["H"])("avatar"),c=Object(r["H"])("q-toolbar-title"),i=Object(r["H"])("q-item-section"),s=Object(r["H"])("q-item"),u=Object(r["H"])("q-list"),l=Object(r["H"])("q-menu"),b=Object(r["H"])("q-tooltip"),p=Object(r["H"])("q-icon"),f=Object(r["H"])("q-input"),d=Object(r["H"])("q-toolbar"),j=Object(r["H"])("q-header"),m=Object(r["H"])("message-item"),O=Object(r["H"])("q-scroll-area"),g=Object(r["H"])("q-page-sticky"),v=Object(r["H"])("message-send-box"),y=Object(r["H"])("q-footer");return e.showCurrentConversation?(Object(r["A"])(),Object(r["i"])("div",T,[Object(r["l"])(j,{elevated:"",class:"bg-grey-10"},{default:Object(r["P"])((function(){return[Object(r["l"])(d,{elevated:""},{default:Object(r["P"])((function(){return[Object(r["l"])(a,{dense:"",flat:"",round:"",icon:"forum",onClick:e.toggleLeftDrawer},{default:Object(r["P"])((function(){return[0!=e.totalUnreadCount?(Object(r["A"])(),Object(r["g"])(n,{key:0,color:"red",floating:"",transparent:""},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.totalUnreadCount),1)]})),_:1})):Object(r["h"])("",!0)]})),_:1},8,["onClick"]),Object(r["l"])(c,null,{default:Object(r["P"])((function(){return[Object(r["l"])(o,{src:e.avatar,type:e.currentConversation.type},null,8,["src","type"]),Object(r["j"])("span",P,Object(r["L"])(e.name),1)]})),_:1}),Object(r["l"])(a,{round:"",flat:"",icon:"more_vert"},{default:Object(r["P"])((function(){return[Object(r["l"])(l,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",offset:[70,0]},{default:Object(r["P"])((function(){return[Object(r["l"])(u,{style:{"min-width":"120px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(s,{clickable:""},{default:Object(r["P"])((function(){return[Object(r["l"])(i,null,{default:Object(r["P"])((function(){return[w]})),_:1})]})),_:1}),Object(r["l"])(s,{clickable:""},{default:Object(r["P"])((function(){return[Object(r["l"])(i,null,{default:Object(r["P"])((function(){return[M]})),_:1})]})),_:1}),Object(r["l"])(s,{clickable:""},{default:Object(r["P"])((function(){return[Object(r["l"])(i,null,{default:Object(r["P"])((function(){return[k]})),_:1})]})),_:1}),Object(r["l"])(s,{clickable:""},{default:Object(r["P"])((function(){return[Object(r["l"])(i,null,{default:Object(r["P"])((function(){return[L]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["l"])(b,{offset:[0,5]},{default:Object(r["P"])((function(){return[A]})),_:1})]})),_:1}),Object(r["l"])(a,{dense:"",flat:"",round:"",icon:"people_alt",onClick:e.toggleRightDrawer},{default:Object(r["P"])((function(){return[Object(r["l"])(b,{offset:[0,5]},{default:Object(r["P"])((function(){return[I]})),_:1})]})),_:1},8,["onClick"]),Object(r["l"])(f,{standout:"bg-grey-9",modelValue:e.text,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.text=t}),dense:"",class:"q-px-sm",dark:"","input-class":"text-white",placeholder:"Search"},{append:Object(r["P"])((function(){return[Object(r["l"])(p,{name:"search",class:"text-grey"})]})),_:1},8,["modelValue"]),Object(r["l"])(a,{dense:"",flat:"",round:"",icon:"inbox"},{default:Object(r["P"])((function(){return[Object(r["l"])(b,{offset:[0,5]},{default:Object(r["P"])((function(){return[S]})),_:1})]})),_:1}),Object(r["l"])(a,{dense:"",flat:"",round:"",icon:"help"},{default:Object(r["P"])((function(){return[Object(r["l"])(b,{offset:[0,5]},{default:Object(r["P"])((function(){return[q]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["l"])(O,{class:"bg-grey-10 text-white rounded-borders q-px-md row justify-center",visible:!1,delay:"1200","thumb-style":e.thumbStyle,style:Object(r["t"])({height:e.scrollAreaHeight+"vh","max-width":"100%"}),ref:"scrollAreaRef",onScroll:e.onScroll},{default:Object(r["P"])((function(){return[Object(r["j"])("div",D,[e.isCompleted?(Object(r["A"])(),Object(r["i"])("span",H,"没有更多了")):(Object(r["A"])(),Object(r["g"])(a,{key:0,label:"查看更多",size:"sm",flat:"",class:"text-grey",onClick:t[1]||(t[1]=function(t){return e.store.dispatch("getMessageList",e.currentConversation.conversationID)})}))]),(Object(r["A"])(!0),Object(r["i"])(r["a"],null,Object(r["G"])(e.currentMessageList,(function(t){return Object(r["A"])(),Object(r["g"])(m,{key:t.ID,message:t,onLoaded:e.onLoaded},null,8,["message","onLoaded"])})),128))]})),_:1},8,["thumb-style","style","onScroll"]),Object(r["l"])(g,{position:"bottom",offset:[0,15]},{default:Object(r["P"])((function(){return[Object(r["Q"])(Object(r["l"])(a,{flat:"",size:"sm",class:"text-grey",onClick:e.scrollMessageListToBottom},{default:Object(r["P"])((function(){return[Q]})),_:1},8,["onClick"]),[[r["N"],e.isShowScrollBottomTips]])]})),_:1}),Object(r["l"])(y,null,{default:Object(r["P"])((function(){return[Object(r["l"])(v,{onScrollBottom:e.scrollMessageListToBottom},null,8,["onScrollBottom"])]})),_:1})])):(Object(r["A"])(),Object(r["i"])("div",E,[Object(r["l"])(d,{class:"bg-grey-10",elevated:""},{default:Object(r["P"])((function(){return[Object(r["l"])(a,{dense:"",flat:"",round:"",icon:"forum",onClick:e.toggleLeftDrawer},null,8,["onClick"])]})),_:1})]))}function N(e,t){var n=Object(r["H"])("text-element");return e.message.type===e.TIM.TYPES.MSG_TEXT?(Object(r["A"])(),Object(r["g"])(n,{key:0,isMine:e.isMine(),payload:e.message.payload,avatar:e.avatarSrc,date:e.date,name:e.showName},null,8,["isMine","payload","avatar","date","name"])):Object(r["h"])("",!0)}n("aa88");var G=n("fdc0");function U(e){var t=e.getMonth()+1,n=e.getDate();return"".concat(t,"月").concat(B(n),"日")}function F(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getHours(),r=e.getMinutes(),a=e.getSeconds(),o=new G["Date"],c=o.getMinutes(),i=o.getHours();return 1<c-r&&c-r<10&&V(e)&&i==n?"".concat(c-r,"分钟前"):c-r<=1&&V(e)&&i==n?"刚刚":t?"".concat(B(n),":").concat(B(r),":").concat(B(a)):"".concat(n,":").concat(B(r))}function V(e){return e.toDateString()===(new G["Date"]).toDateString()}function B(e){return e<10?"0".concat(e):e}function Y(e,t){var n=Object(r["H"])("message-content"),a=Object(r["H"])("q-chat-message");return Object(r["A"])(),Object(r["g"])(a,{avatar:e.avatar,stamp:e.date,"text-color":"white","bg-color":e.bgColor,sent:e.isMine,name:e.name},{default:Object(r["P"])((function(){return[Object(r["l"])(n,{contentList:e.contentList},null,8,["contentList"])]})),_:1},8,["avatar","stamp","bg-color","sent","name"])}n("3a76");var K="https://imgcache.qq.com/open/qcloud/tim/assets/emoji/",z={"[NO]":"emoji_0@2x.png","[OK]":"emoji_1@2x.png","[下雨]":"emoji_2@2x.png","[么么哒]":"emoji_3@2x.png","[乒乓]":"emoji_4@2x.png","[便便]":"emoji_5@2x.png","[信封]":"emoji_6@2x.png","[偷笑]":"emoji_7@2x.png","[傲慢]":"emoji_8@2x.png","[再见]":"emoji_9@2x.png","[冷汗]":"emoji_10@2x.png","[凋谢]":"emoji_11@2x.png","[刀]":"emoji_12@2x.png","[删除]":"emoji_13@2x.png","[勾引]":"emoji_14@2x.png","[发呆]":"emoji_15@2x.png","[发抖]":"emoji_16@2x.png","[可怜]":"emoji_17@2x.png","[可爱]":"emoji_18@2x.png","[右哼哼]":"emoji_19@2x.png","[右太极]":"emoji_20@2x.png","[右车头]":"emoji_21@2x.png","[吐]":"emoji_22@2x.png","[吓]":"emoji_23@2x.png","[咒骂]":"emoji_24@2x.png","[咖啡]":"emoji_25@2x.png","[啤酒]":"emoji_26@2x.png","[嘘]":"emoji_27@2x.png","[回头]":"emoji_28@2x.png","[困]":"emoji_29@2x.png","[坏笑]":"emoji_30@2x.png","[多云]":"emoji_31@2x.png","[大兵]":"emoji_32@2x.png","[大哭]":"emoji_33@2x.png","[太阳]":"emoji_34@2x.png","[奋斗]":"emoji_35@2x.png","[奶瓶]":"emoji_36@2x.png","[委屈]":"emoji_37@2x.png","[害羞]":"emoji_38@2x.png","[尴尬]":"emoji_39@2x.png","[左哼哼]":"emoji_40@2x.png","[左太极]":"emoji_41@2x.png","[左车头]":"emoji_42@2x.png","[差劲]":"emoji_43@2x.png","[弱]":"emoji_44@2x.png","[强]":"emoji_45@2x.png","[彩带]":"emoji_46@2x.png","[彩球]":"emoji_47@2x.png","[得意]":"emoji_48@2x.png","[微笑]":"emoji_49@2x.png","[心碎了]":"emoji_50@2x.png","[快哭了]":"emoji_51@2x.png","[怄火]":"emoji_52@2x.png","[怒]":"emoji_53@2x.png","[惊恐]":"emoji_54@2x.png","[惊讶]":"emoji_55@2x.png","[憨笑]":"emoji_56@2x.png","[手枪]":"emoji_57@2x.png","[打哈欠]":"emoji_58@2x.png","[抓狂]":"emoji_59@2x.png","[折磨]":"emoji_60@2x.png","[抠鼻]":"emoji_61@2x.png","[抱抱]":"emoji_62@2x.png","[抱拳]":"emoji_63@2x.png","[拳头]":"emoji_64@2x.png","[挥手]":"emoji_65@2x.png","[握手]":"emoji_66@2x.png","[撇嘴]":"emoji_67@2x.png","[擦汗]":"emoji_68@2x.png","[敲打]":"emoji_69@2x.png","[晕]":"emoji_70@2x.png","[月亮]":"emoji_71@2x.png","[棒棒糖]":"emoji_72@2x.png","[汽车]":"emoji_73@2x.png","[沙发]":"emoji_74@2x.png","[流汗]":"emoji_75@2x.png","[流泪]":"emoji_76@2x.png","[激动]":"emoji_77@2x.png","[灯泡]":"emoji_78@2x.png","[炸弹]":"emoji_79@2x.png","[熊猫]":"emoji_80@2x.png","[爆筋]":"emoji_81@2x.png","[爱你]":"emoji_82@2x.png","[爱心]":"emoji_83@2x.png","[爱情]":"emoji_84@2x.png","[猪头]":"emoji_85@2x.png","[猫咪]":"emoji_86@2x.png","[献吻]":"emoji_87@2x.png","[玫瑰]":"emoji_88@2x.png","[瓢虫]":"emoji_89@2x.png","[疑问]":"emoji_90@2x.png","[白眼]":"emoji_91@2x.png","[皮球]":"emoji_92@2x.png","[睡觉]":"emoji_93@2x.png","[磕头]":"emoji_94@2x.png","[示爱]":"emoji_95@2x.png","[礼品袋]":"emoji_96@2x.png","[礼物]":"emoji_97@2x.png","[篮球]":"emoji_98@2x.png","[米饭]":"emoji_99@2x.png","[糗大了]":"emoji_100@2x.png","[红双喜]":"emoji_101@2x.png","[红灯笼]":"emoji_102@2x.png","[纸巾]":"emoji_103@2x.png","[胜利]":"emoji_104@2x.png","[色]":"emoji_105@2x.png","[药]":"emoji_106@2x.png","[菜刀]":"emoji_107@2x.png","[蛋糕]":"emoji_108@2x.png","[蜡烛]":"emoji_109@2x.png","[街舞]":"emoji_110@2x.png","[衰]":"emoji_111@2x.png","[西瓜]":"emoji_112@2x.png","[调皮]":"emoji_113@2x.png","[象棋]":"emoji_114@2x.png","[跳绳]":"emoji_115@2x.png","[跳跳]":"emoji_116@2x.png","[车厢]":"emoji_117@2x.png","[转圈]":"emoji_118@2x.png","[鄙视]":"emoji_119@2x.png","[酷]":"emoji_120@2x.png","[钞票]":"emoji_121@2x.png","[钻戒]":"emoji_122@2x.png","[闪电]":"emoji_123@2x.png","[闭嘴]":"emoji_124@2x.png","[闹钟]":"emoji_125@2x.png","[阴险]":"emoji_126@2x.png","[难过]":"emoji_127@2x.png","[雨伞]":"emoji_128@2x.png","[青蛙]":"emoji_129@2x.png","[面条]":"emoji_130@2x.png","[鞭炮]":"emoji_131@2x.png","[风车]":"emoji_132@2x.png","[飞吻]":"emoji_133@2x.png","[飞机]":"emoji_134@2x.png","[饥饿]":"emoji_135@2x.png","[香蕉]":"emoji_136@2x.png","[骷髅]":"emoji_137@2x.png","[麦克风]":"emoji_138@2x.png","[麻将]":"emoji_139@2x.png","[鼓掌]":"emoji_140@2x.png","[龇牙]":"emoji_141@2x.png"};function J(e){var t=[],n=e.text,r=-1,a=-1;while(""!==n)switch(r=n.indexOf("["),a=n.indexOf("]"),r){case 0:if(-1===a)t.push({name:"text",text:n}),n="";else{var o=n.slice(0,a+1);z[o]?(t.push({name:"img",src:K+z[o]}),n=n.substring(a+1)):(t.push({name:"text",text:"["}),n=n.slice(1))}break;case-1:t.push({name:"text",text:n}),n="";break;default:t.push({name:"text",text:n.slice(0,r)}),n=n.substring(r);break}return t}var W={key:0},Z=["src"];function X(e,t){return Object(r["A"])(!0),Object(r["i"])(r["a"],null,Object(r["G"])(e.contentList,(function(e){return Object(r["A"])(),Object(r["i"])("span",{key:e},["text"===e.name?(Object(r["A"])(),Object(r["i"])("span",W,Object(r["L"])(e.text),1)):"img"===e.name?(Object(r["A"])(),Object(r["i"])("img",{key:1,src:e.src,style:{width:"24px"}},null,8,Z)):Object(r["h"])("",!0)])})),128)}var $={name:"MessageContent",props:{contentList:{type:Array,required:!0}},setup:function(){return{}}};$.render=X;var ee=$,te={name:"TextElement",components:{MessageContent:ee},props:{payload:{type:Object,required:!0},isMine:{type:Boolean},avatar:{type:String},name:{type:String},date:{}},setup:function(e){var t=Object(r["e"])((function(){return J(e.payload)})),n=Object(r["e"])((function(){return e.isMine,"grey-8"}));return{contentList:t,bgColor:n}}},ne=n("04fa"),re=n("9d51"),ae=n.n(re);te.render=Y;var oe=te;ae()(te,"components",{QChatMessage:ne["a"]});var ce={name:"MessageItem",components:{TextElement:oe},props:{message:{type:Object,required:!0},conversationType:{}},setup:function(e,t){var n=Object(r["n"])(),a=n.appContext.config.globalProperties.TIM,o=Object(r["e"])((function(){return e.message.avatar?e.message.avatar:"https://tspace-1253470014.cos.ap-hongkong.myqcloud.com/nft/confienergy/image/coolzai.gif"}));t.emit("loaded");var c=Object(r["e"])((function(){switch(e.message.conversationType){case"C2C":return"";case"GROUP":return e.message.nick||e.message.from.substring(0,8);default:return""}})),i=Object(r["e"])((function(){var t=new Date(1e3*e.message.time);return V(t)?F(t):U(t)}));function s(){return"out"===e.message.flow}return{isMine:s,TIM:a,avatarSrc:o,date:i,showName:c}}};ce.render=N;var ie=ce,se=["src"];function ue(e,t){var n=Object(r["H"])("q-avatar");return Object(r["A"])(),Object(r["g"])(n,{size:e.size},{default:Object(r["P"])((function(){return[Object(r["j"])("img",{src:e.avatarSrc},null,8,se)]})),_:1},8,["size"])}var le=n("f6e3"),be=n.n(le),pe={props:{src:String,type:{type:String,default:"C2C"},shape:{type:String,default:"circle"},size:{type:String}},setup:function(e){var t=Object(r["n"])(),n=t.appContext.config.globalProperties.TIM,a=Object(r["e"])((function(){return/^(https:|http:|\/\/)/.test(e.src)?e.src:o.value})),o=Object(r["e"])((function(){switch(e.type){case"C2C":return"https://tspace-1253470014.cos.ap-hongkong.myqcloud.com/nft/confienergy/image/coolzai.gif";case"GROUP":return"http://tspace-1253470014.cos.ap-hongkong.myqcloud.com/tspace/image/1399299885697732608.jpg";case n.TYPES.CONV_SYSTEM:return be.a;default:return"https://gateway.pinata.cloud/ipfs/QmT9dYDsNVL6FoFQuWS66YHpCbWr9KdV63V5Uxxo3YeGQ2/ctn-5.png"}}));return{avatarSrc:a}}},fe=n("0a0f");pe.render=ue;var de=pe;ae()(pe,"components",{QAvatar:fe["a"]});var je=Object(r["k"])(" 按Enter发送消息 ");function me(e,t){var n=Object(r["H"])("q-icon"),a=Object(r["H"])("q-btn"),o=Object(r["H"])("q-tooltip"),c=Object(r["H"])("q-input"),i=Object(r["H"])("q-toolbar");return Object(r["A"])(),Object(r["i"])("div",null,[Object(r["l"])(i,{class:"row bg-grey-10"},{default:Object(r["P"])((function(){return[Object(r["l"])(c,{standout:"bg-grey-9","input-class":"text-white",dense:"",class:"col-grow",placeholder:"Type a message",modelValue:e.messageContent,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.messageContent=t}),onKeydown:Object(r["R"])(Object(r["S"])(e.handleEnter,["exact","prevent"]),["enter"])},{append:Object(r["P"])((function(){return[""!==e.messageContent?(Object(r["A"])(),Object(r["g"])(n,{key:0,name:"close",onClick:t[0]||(t[0]=function(t){return e.messageContent=""}),class:"cursor-pointer text-grey"})):Object(r["h"])("",!0),Object(r["l"])(a,{round:"",dense:"",flat:"",icon:"insert_emoticon",class:"text-grey"}),Object(r["l"])(a,{round:"",dense:"",flat:"",icon:"send",class:"text-grey",onClick:e.sendTextMessage},{default:Object(r["P"])((function(){return[Object(r["l"])(o,null,{default:Object(r["P"])((function(){return[je]})),_:1})]})),_:1},8,["onClick"])]})),_:1},8,["modelValue","onKeydown"])]})),_:1})])}n("92bd");var Oe={computed:Object(h["a"])({},Object(C["b"])(["currentConversationType"])),setup:function(e,t){var n=Object(C["d"])(),a=Object(r["e"])((function(){return n.getters.currentConversationType})),o=Object(r["e"])((function(){return n.getters.toAccount})),c=Object(r["F"])(""),i=Object(r["F"])([]),s=Object(r["F"])(!1),u=Object(r["n"])(),l=u.appContext.config.globalProperties,b=l.tim,p=l.TIM;function f(){if(""===c.value||0===c.value.trim().length)return c.value="",void n.commit("showMessage",{message:"不能发送空消息哦！",type:"info"});if(a.value===p.TYPES.CONV_GROUP&&s.value){var e=this.tim.createTextAtMessage({to:o,conversationType:p.TYPES.CONV_GROUP,payload:{text:c.value,atUserList:i.value}});return n.commit("pushCurrentMessageList",e),b.sendMessage(e).catch((function(e){n.commit("showMessage",{type:"error",message:e.message})})),c.value="",s.value=!1,void t.emit("scroll-bottom")}var r=b.createTextMessage({to:o.value,conversationType:a.value,payload:{text:c.value}});n.commit("pushCurrentMessageList",r),b.sendMessage(r).then((function(){console.log("send Successfully")})).catch((function(e){n.commit("showMessage",{type:"error",message:e.message})})),c.value="",t.emit("scroll-bottom")}function d(){f()}return{sendTextMessage:f,messageContent:c,handleEnter:d}}},ge=n("494c"),ve=n("3775"),ye=n("7305"),he=n("35ff"),xe=n("04a8");Oe.render=me;var _e=Oe;ae()(Oe,"components",{QToolbar:ge["a"],QInput:ve["a"],QAvatar:fe["a"],QIcon:ye["a"],QBtn:he["a"],QTooltip:xe["a"]});var Ce={name:"CurrentConversation",emits:["toggleRightDrawer","toggleLeftDrawer"],components:{MessageItem:ie,Avatar:de,MessageSendBox:_e},setup:function(e,t){var n=Object(C["d"])(),a=Object(r["e"])((function(){return n.state.conversation.currentMessageList})),o=Object(r["e"])((function(){return n.state.conversation.currentConversation})),c=Object(r["e"])((function(){return n.state.conversation.isCompleted})),i=Object(r["e"])((function(){return!!o.value.conversationID})),s=Object(r["e"])((function(){return n.getters.totalUnreadCount})),u=Object(r["F"])(!0),l=Object(r["e"])((function(){return n.getters.toAccount})),b=Object(r["e"])((function(){var e=document.body.clientHeight;return(e-100)/e*100})),p=Object(r["e"])((function(){switch(o.value.type){case"GROUP":return o.value.groupProfile.avatar;case"C2C":return o.value.userProfile.avatar;default:return""}})),f=Object(r["e"])((function(){if("C2C"===o.value.type){for(var e=o.value.userProfile.nick||l.value,t=a.value,n=t.length,r=n-1;r>=0;r--)if("in"===t[r].flow&&t[r].nick&&e!==t[r].nick){e=t[r].nick;break}return e}return"GROUP"===o.value.type?o.value.groupProfile.name||l.value:"@TIM#SYSTEM"===o.value.conversationID?"系统通知":l}));function d(){t.emit("toggleRightDrawer")}function j(){t.emit("toggleLeftDrawer")}Object(r["O"])((function(){return f.value}),(function(){setTimeout((function(){y()}),100)}));var m=Object(r["F"])(null);function O(e){m.value&&e.verticalPercentage>.98&&(u.value=!1)}function g(){m.value&&(m.value.getScrollPercentage().top>.8?(Object(r["s"])((function(){m.value.setScrollPercentage("vertical",1.3)})),u.value=!1):u.value=!0)}function v(){g()}function y(){Object(r["s"])((function(){m.value&&m.value.setScrollPercentage("vertical",1.8)}))}Object(r["O"])((function(){return n.getters.hidden}),(function(){}),{deep:!0});var h={width:"4px"};return{currentMessageList:a,name:f,store:n,currentConversation:o,isCompleted:c,avatar:p,toggleLeftDrawer:j,toggleRightDrawer:d,isShowScrollBottomTips:u,onScroll:O,scrollMessageListToBottom:y,showCurrentConversation:i,scrollAreaHeight:b,totalUnreadCount:s,scrollAreaRef:m,thumbStyle:h,onLoaded:v}}},Te=(n("9498"),n("ca12")),Pe=n("4b35"),we=n("99ab"),Me=n("bc7d"),ke=n("6f34"),Le=n("f719"),Ae=n("fd2b"),Ie=n("67db"),Se=n("3729"),qe=n("a66b");Ce.render=R;var De=Ce;function He(e,t){var n=Object(r["H"])("conversation-item"),a=Object(r["H"])("q-list"),o=Object(r["H"])("q-scroll-area");return Object(r["A"])(),Object(r["g"])(o,{style:{height:"100vh"},"thumb-style":e.thumbStyle},{default:Object(r["P"])((function(){return[Object(r["l"])(a,null,{default:Object(r["P"])((function(){return[(Object(r["A"])(!0),Object(r["i"])(r["a"],null,Object(r["G"])(e.conversationList,(function(e){return Object(r["A"])(),Object(r["g"])(n,{conversation:e,key:e.lastMessage.lastTime},null,8,["conversation"])})),128))]})),_:1})]})),_:1},8,["thumb-style"])}ae()(Ce,"components",{QHeader:Te["a"],QToolbar:ge["a"],QBtn:he["a"],QBadge:Pe["a"],QToolbarTitle:we["a"],QMenu:Me["a"],QList:ke["a"],QItem:Le["a"],QItemSection:Ae["a"],QTooltip:xe["a"],QInput:ve["a"],QIcon:ye["a"],QScrollArea:Ie["a"],QPageSticky:Se["a"],QFooter:qe["a"]});var Qe=Object(r["k"])(" 系统通知 ");function Ee(e,t){var n=Object(r["H"])("avatar"),a=Object(r["H"])("q-item-section"),o=Object(r["H"])("q-item-label"),c=Object(r["H"])("q-badge"),i=Object(r["H"])("q-icon"),s=Object(r["H"])("q-item"),u=Object(r["H"])("q-list"),l=Object(r["H"])("q-menu"),b=Object(r["H"])("q-btn"),p=Object(r["I"])("close-popup"),f=Object(r["I"])("ripple");return Object(r["Q"])((Object(r["A"])(),Object(r["g"])(s,{clickable:"",onClick:e.selectConversation,active:e.isActive,class:"q-ma-xs rounded-borders","active-class":"bg-grey-9 text-white"},{default:Object(r["P"])((function(){return[Object(r["l"])(a,{avatar:""},{default:Object(r["P"])((function(){return[Object(r["l"])(n,{src:e.avatar,type:e.conversation.type},null,8,["src","type"])]})),_:1}),Object(r["l"])(a,null,{default:Object(r["P"])((function(){return[e.conversation.type===e.TIM.TYPES.CONV_C2C?(Object(r["A"])(),Object(r["g"])(o,{key:0,lines:"1",style:{"font-weight":"bold","font-size":"0.8rem"}},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.formatName(e.conversation.userProfile.nick||e.conversation.userProfile.userID)),1)]})),_:1})):e.conversation.type===e.TIM.TYPES.CONV_GROUP?(Object(r["A"])(),Object(r["g"])(o,{key:1,lines:"1",style:{"font-weight":"bold","font-size":"0.8rem"}},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.formatName(e.conversation.groupProfile.name||e.conversation.groupProfile.groupID)),1)]})),_:1})):e.conversation.type===e.TIM.TYPES.CONV_SYSTEM?(Object(r["A"])(),Object(r["g"])(o,{key:2,lines:"2",style:{"font-weight":"bold","font-size":"0.8rem"}},{default:Object(r["P"])((function(){return[Qe]})),_:1})):Object(r["h"])("",!0),e.conversation.lastMessage&&e.hasMessageAtMe?(Object(r["A"])(),Object(r["g"])(o,{key:3,class:"conversation__summary",caption:""},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.messageAtMeText),1)]})),_:1})):Object(r["h"])("",!0),e.conversation.lastMessage?(Object(r["A"])(),Object(r["g"])(o,{key:4,class:"conversation__summary",caption:""},{default:Object(r["P"])((function(){return[e.showUnreadCount?(Object(r["A"])(),Object(r["g"])(c,{key:0,color:"red"},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.conversation.unreadCount>99?"99+":e.conversation.unreadCount),1)]})),_:1})):Object(r["h"])("",!0),Object(r["k"])(" "+Object(r["L"])(e.messageForShow),1)]})),_:1})):Object(r["h"])("",!0)]})),_:1}),Object(r["l"])(a,{side:""},{default:Object(r["P"])((function(){return[Object(r["l"])(o,{caption:""},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.date),1)]})),_:1}),Object(r["l"])(b,{icon:"keyboard_arrow_down",round:"",flat:"",size:"xs"},{default:Object(r["P"])((function(){return[Object(r["l"])(l,{"transition-show":"jump-down","transition-hide":"jump-up",offset:[10,0],class:"bg-grey-10"},{default:Object(r["P"])((function(){return[Object(r["l"])(u,{dense:"",style:{"min-width":"30px"}},{default:Object(r["P"])((function(){return[Object(r["Q"])(Object(r["l"])(s,{clickable:""},{default:Object(r["P"])((function(){return[Object(r["l"])(a,{onClick:e.deleteConversation},{default:Object(r["P"])((function(){return[Object(r["l"])(i,{name:"close"})]})),_:1},8,["onClick"])]})),_:1},512),[[p]])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["onClick","active"])),[[f]])}n("c7ae");var Re={components:{Avatar:de},props:["conversation"],setup:function(e){var t=Object(r["n"])(),n=t.appContext.config.globalProperties,a=n.tim,o=n.TIM,c=Object(C["d"])(),i=Object(r["e"])((function(){return c.state.conversation.currentConversation})),s=Object(r["e"])((function(){return c.state.user.currentUserProfile})),u=Object(r["F"])(!1),l=Object(r["e"])((function(){return i.value.conversationID!==e.conversation.conversationID&&e.conversation.groupAtInfoList&&e.conversation.groupAtInfoList.length>0})),b=Object(r["e"])((function(){var t="";return e.conversation.groupAtInfoList.length>0&&e.conversation.groupAtInfoList.forEach((function(e){e.atTypeArray[0]===o.TYPES.CONV_AT_ME&&(t=-1!==t.indexOf("[@所有人]")?"[@所有人][有人@我]":"[有人@我]"),e.atTypeArray[0]===o.TYPES.CONV_AT_ALL&&(t=-1!==t.indexOf("[有人@我]")?"[有人@我][@所有人]":"[@所有人]"),e.atTypeArray[0]===o.TYPES.CONV_AT_ALL_AT_ME&&(t="[@所有人][有人@我]")})),t})),p=Object(r["e"])((function(){return i.value.conversationID!==e.conversation.conversationID&&e.conversation.unreadCount>0})),f=Object(r["e"])((function(){if(!e.conversation.lastMessage||!e.conversation.lastMessage.lastTime)return"";var t=new Date(1e3*e.conversation.lastMessage.lastTime);return V(t)?F(t):U(t)})),d=Object(r["e"])((function(){switch(e.conversation.type){case"GROUP":return e.conversation.groupProfile.avatar;case"C2C":return e.conversation.userProfile.avatar;default:return""}})),j=Object(r["e"])((function(){return e.conversation.type===o.TYPES.CONV_C2C?e.conversation.userProfile.nick||e.conversation.userProfile.userID:e.conversation.type===o.TYPES.CONV_GROUP?e.conversation.groupProfile.name||e.conversation.groupProfile.groupID:e.conversation.type===o.TYPES.CONV_SYSTEM?"系统通知":""})),m=Object(r["e"])((function(){return e.conversation.lastMessage.isRevoked?e.conversation.lastMessage.fromAccount===s.value.userID?"你撤回了一条消息":e.conversation.type===o.TYPES.CONV_C2C?"对方撤回了一条消息":"".concat(e.conversation.lastMessage.fromAccount,"撤回了一条消息"):e.conversation.lastMessage.messageForShow}));function O(){e.conversation.conversationID!==i.value.conversationID&&c.dispatch("checkoutConversation",e.conversation.conversationID)}function g(t){t.stopPropagation(),a.deleteConversation(e.conversation.conversationID).then((function(){c.commit("showMessage",{message:"会话【".concat(j.value,"】删除成功!"),type:"success"}),u.value=!1,c.commit("resetCurrentConversation")})).catch((function(e){c.commit("showMessage",{message:"会话【".concat(j.value,"】删除失败!, error=").concat(e.message),type:"error"}),u.value=!1}))}var v=Object(r["e"])((function(){return e.conversation.conversationID==i.value.conversationID}));function y(e){return e.length>20?e.slice(0,20)+"...":e}return{selectConversation:O,avatar:d,messageForShow:m,date:f,MessageAtMeText:b,hasMessageAtMe:l,showUnreadCount:p,deleteConversation:g,isActive:v,formatName:y}}},Ne=n("7759"),Ge=n("af2f"),Ue=n("0738");Re.render=Ee;var Fe=Re;ae()(Re,"components",{QItem:Le["a"],QItemSection:Ae["a"],QAvatar:fe["a"],QItemLabel:Ne["a"],QBadge:Pe["a"],QBtn:he["a"],QMenu:Me["a"],QList:ke["a"],QIcon:ye["a"]}),ae()(Re,"directives",{Ripple:Ge["a"],ClosePopup:Ue["a"]});var Ve={components:{ConversationItem:Fe},setup:function(){var e=Object(C["d"])(),t=Object(r["e"])((function(){return e.state.conversation.conversationList}));return{conversationList:t,thumbStyle:{width:"4px"}}}};Ve.render=He;var Be=Ve;function Ye(e,t){var n=Object(r["H"])("group-item"),a=Object(r["H"])("q-list"),o=Object(r["H"])("q-scroll-area");return Object(r["A"])(),Object(r["g"])(o,{style:{height:"100vh"},"thumb-style":e.thumbStyle,visible:!1},{default:Object(r["P"])((function(){return[Object(r["l"])(a,null,{default:Object(r["P"])((function(){return[(Object(r["A"])(!0),Object(r["i"])(r["a"],null,Object(r["G"])(e.groupList,(function(e){return Object(r["A"])(),Object(r["g"])(n,{key:e.groupID,group:e},null,8,["group"])})),128))]})),_:1})]})),_:1},8,["thumb-style"])}ae()(Ve,"components",{QToolbar:ge["a"],QInput:ve["a"],QIcon:ye["a"],QBtn:he["a"],QScrollArea:Ie["a"],QList:ke["a"],QItem:Le["a"],QItemSection:Ae["a"],QAvatar:fe["a"],QItemLabel:Ne["a"]}),ae()(Ve,"directives",{Ripple:Ge["a"]});var Ke=["src"];function ze(e,t){var n=Object(r["H"])("q-avatar"),a=Object(r["H"])("q-item-section"),o=Object(r["H"])("q-item-label"),c=Object(r["H"])("q-icon"),i=Object(r["H"])("q-item"),s=Object(r["I"])("ripple");return Object(r["Q"])((Object(r["A"])(),Object(r["g"])(i,{clickable:"",onClick:e.handleGroupClick,class:"q-ma-xs rounded-borders"},{default:Object(r["P"])((function(){return[Object(r["l"])(a,{avatar:""},{default:Object(r["P"])((function(){return[Object(r["l"])(n,null,{default:Object(r["P"])((function(){return[Object(r["j"])("img",{src:e.groupAvatar},null,8,Ke)]})),_:1})]})),_:1}),Object(r["l"])(a,null,{default:Object(r["P"])((function(){return[Object(r["l"])(o,{caption:"",lines:"1",style:{"font-weight":"bold","font-size":"0.8rem"}},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.formatName(e.group.name)),1)]})),_:1})]})),_:1}),Object(r["l"])(a,{side:""},{default:Object(r["P"])((function(){return[Object(r["l"])(c,{name:"keyboard_arrow_down"})]})),_:1})]})),_:1},8,["onClick"])),[[s]])}var Je={name:"GroupItem",props:["group"],setup:function(e){var t=Object(r["n"])(),n=t.appContext.config.globalProperties.tim;console.log(e.group);var a=Object(C["d"])(),o=Object(r["e"])((function(){return e.group.avatar?e.group.avatar:"http://tspace-1253470014.cos.ap-hongkong.myqcloud.com/tspace/image/1399299885697732608.jpg"}));function c(){n.quitGroup(e.group.groupID).catch((function(e){a.commit("showMessage",{type:e,message:e.message})}))}function i(){var t="GROUP".concat(e.group.groupID);a.dispatch("checkoutConversation",t)}function s(e){return e.length>16?e.slice(0,16)+"...":e}return{quitGroup:c,groupAvatar:o,handleGroupClick:i,formatName:s}}};Je.render=ze;var We=Je;ae()(Je,"components",{QItem:Le["a"],QItemSection:Ae["a"],QAvatar:fe["a"],QItemLabel:Ne["a"],QIcon:ye["a"]}),ae()(Je,"directives",{Ripple:Ge["a"]});var Ze={name:"GroupList",components:{GroupItem:We},setup:function(){var e=Object(C["d"])(),t=Object(r["e"])((function(){return e.state.group.groupList})),n={width:"4px"};return{groupList:t,thumbStyle:n}}};Ze.render=Ye;var Xe=Ze;ae()(Ze,"components",{QScrollArea:Ie["a"],QList:ke["a"],QItem:Le["a"],QItemSection:Ae["a"],QAvatar:fe["a"],QItemLabel:Ne["a"],QIcon:ye["a"]}),ae()(Ze,"directives",{Ripple:Ge["a"]});var $e=Object(r["j"])("div",{class:"text-h6 text-center"},"创建群组",-1),et={class:"q-pa-md",style:{"max-width":"400px"}};function tt(e,t){var n=Object(r["H"])("nft-item"),a=Object(r["H"])("q-list"),o=Object(r["H"])("q-card-section"),c=Object(r["H"])("q-input"),i=Object(r["H"])("q-icon"),s=Object(r["H"])("q-file"),u=Object(r["H"])("q-btn"),l=Object(r["H"])("q-form"),b=Object(r["H"])("q-card-actions"),p=Object(r["H"])("q-card"),f=Object(r["H"])("q-dialog"),d=Object(r["H"])("q-scroll-area"),j=Object(r["I"])("close-popup");return Object(r["A"])(),Object(r["g"])(d,{style:{height:"100vh"},"thumb-style":e.thumbStyle,visible:!1},{default:Object(r["P"])((function(){return[Object(r["l"])(a,null,{default:Object(r["P"])((function(){return[(Object(r["A"])(!0),Object(r["i"])(r["a"],null,Object(r["G"])(e.nftList,(function(t){return Object(r["A"])(),Object(r["g"])(n,{key:t,nft:t,onToggleGroupDialog:e.toggleGroupDialog},null,8,["nft","onToggleGroupDialog"])})),128))]})),_:1}),Object(r["l"])(f,{modelValue:e.groupDialog,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.groupDialog=t}),persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},{default:Object(r["P"])((function(){return[Object(r["l"])(p,{class:"bg-dark text-white",style:{width:"400px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(o,null,{default:Object(r["P"])((function(){return[$e]})),_:1}),Object(r["l"])(o,{class:"q-pt-none text-center"},{default:Object(r["P"])((function(){return[Object(r["j"])("div",et,[Object(r["l"])(l,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md"},{default:Object(r["P"])((function(){return[Object(r["l"])(c,{filled:"",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.name=t}),placeholder:"群组ID *","lazy-rules":"",rules:[function(e){return e&&e.length>0||"输入群组ID"}]},null,8,["modelValue","rules"]),Object(r["l"])(c,{filled:"",type:"string",modelValue:e.age,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.age=t}),placeholder:"群名称 *","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"请输入群名称"},function(e){return e>0&&e<100||"请输入合规的群名称"}]},null,8,["modelValue","rules"]),Object(r["l"])(s,{color:"lime-11",filled:"",modelValue:e.model,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.model=t}),label:"群头像 * "},{prepend:Object(r["P"])((function(){return[Object(r["l"])(i,{name:"attachment"})]})),_:1},8,["modelValue"]),Object(r["j"])("div",null,[Object(r["l"])(u,{label:"Submit",type:"submit",color:"grey-9"})])]})),_:1},8,["onSubmit","onReset"])])]})),_:1}),Object(r["l"])(b,{align:"right",class:"text-white"},{default:Object(r["P"])((function(){return[Object(r["Q"])(Object(r["l"])(u,{flat:"",label:"Close"},null,512),[[j]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["thumb-style"])}var nt=["src"],rt=Object(r["k"])(" 创建群组 ");function at(e,t){var n=Object(r["H"])("q-avatar"),a=Object(r["H"])("q-item-section"),o=Object(r["H"])("q-item-label"),c=Object(r["H"])("q-tooltip"),i=Object(r["H"])("q-btn"),s=Object(r["H"])("q-item"),u=Object(r["I"])("ripple");return Object(r["Q"])((Object(r["A"])(),Object(r["g"])(s,{clickable:"",onClick:t[0]||(t[0]=function(t){return e.checkoutCurrentNFT(e.nft.name,e.nft.address)}),class:"q-ma-xs rounded-borders",active:e.isActive,"active-class":"bg-grey-9 text-white"},{default:Object(r["P"])((function(){return[e.isImage?(Object(r["A"])(),Object(r["g"])(a,{key:0,avatar:""},{default:Object(r["P"])((function(){return[Object(r["l"])(n,null,{default:Object(r["P"])((function(){return[Object(r["j"])("img",{src:e.nft.image},null,8,nt)]})),_:1})]})),_:1})):(Object(r["A"])(),Object(r["g"])(a,{key:1,avatar:""},{default:Object(r["P"])((function(){return[Object(r["l"])(n,null,{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.nft.name.slice(0,1)),1)]})),_:1})]})),_:1})),Object(r["l"])(a,null,{default:Object(r["P"])((function(){return[Object(r["l"])(o,{caption:"",lines:"1",style:{"font-size":"0.9rem","font-weight":"bold"}},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.formatName(e.nft.name)),1)]})),_:1})]})),_:1}),Object(r["l"])(a,{side:""},{default:Object(r["P"])((function(){return[Object(r["l"])(i,{class:"q-mr-sm circle",size:"sm",dense:"",flat:"",color:"grey-9",icon:"add",onClick:e.showCreateGroupDialog},{default:Object(r["P"])((function(){return[Object(r["l"])(c,{anchor:"center right",self:"center left"},{default:Object(r["P"])((function(){return[rt]})),_:1})]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["active"])),[[u]])}n("83a0"),n("31c9");var ot={name:"NFTItem",props:{nft:{type:Object}},emits:["toggleGroupDialog"],setup:function(e,t){var n=Object(C["d"])();function a(e,t){console.log(t),n.commit("checkoutCurrentNFT",{name:e,address:t});var r="http://192.168.88.129:8000/api/nft/groups/?address="+t;fetch(r).then((function(e){return e.json()})).then((function(e){console.log(e),n.commit("checkoutCurrentNFTGroups",e)}))}var o=Object(r["e"])((function(){var t=e.nft.image.split(".").pop();return"jpg"==t||"png"==t||"gif"==t||"jpeg"==t})),c=Object(r["e"])((function(){return n.state.currentNFTName==e.nft.name}));function i(e){return e.length>14?e.slice(0,14)+"...":e}function s(){t.emit("toggleGroupDialog")}return{store:n,checkoutCurrentNFT:a,isImage:o,formatName:i,isActive:c,showCreateGroupDialog:s}}};ot.render=at;var ct=ot;ae()(ot,"components",{QItem:Le["a"],QItemSection:Ae["a"],QAvatar:fe["a"],QItemLabel:Ne["a"],QIcon:ye["a"],QBtn:he["a"],QTooltip:xe["a"]}),ae()(ot,"directives",{Ripple:Ge["a"]});var it={components:{nftItem:ct},setup:function(){var e=Object(C["d"])(),t=Object(r["e"])((function(){return e.state.nftList}));console.log(t);var n=Object(r["F"])(!1);function a(){n.value=!0}var o={width:"4px"};return{nftList:t,thumbStyle:o,toggleGroupDialog:a,groupDialog:n}}},st=n("4d0b"),ut=n("1c3f"),lt=n("4e4b"),bt=n("fe5a"),pt=n("abd9"),ft=n("b622");it.render=tt;var dt=it;ae()(it,"components",{QScrollArea:Ie["a"],QList:ke["a"],QDialog:st["a"],QCard:ut["a"],QCardSection:lt["a"],QForm:bt["a"],QInput:ve["a"],QFile:pt["a"],QIcon:ye["a"],QBtn:he["a"],QCardActions:ft["a"]}),ae()(it,"directives",{ClosePopup:Ue["a"]});var jt={class:"col-12"};function mt(e,t){var n=Object(r["H"])("q-btn"),a=Object(r["H"])("conflux-portal"),o=Object(r["H"])("q-toolbar"),c=Object(r["H"])("q-header"),i=Object(r["H"])("nft-group-content");return Object(r["A"])(),Object(r["i"])(r["a"],null,[Object(r["l"])(c,{elevated:"",class:"bg-grey-10"},{default:Object(r["P"])((function(){return[Object(r["l"])(o,null,{default:Object(r["P"])((function(){return[Object(r["j"])("div",jt,[Object(r["l"])(n,{round:"",flat:"",icon:"menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),Object(r["l"])(a)])]})),_:1})]})),_:1}),Object(r["l"])(i,{groups:e.groups},null,8,["groups"])],64)}var Ot=n("e9ff"),gt=(n("e186"),{class:"q-pa-md window-height"}),vt={class:"row items-center"};function yt(e,t){var n=Object(r["H"])("nft-group-item");return Object(r["A"])(),Object(r["i"])("div",gt,[Object(r["j"])("div",vt,[(Object(r["A"])(!0),Object(r["i"])(r["a"],null,Object(r["G"])(e.groups,(function(e){return Object(r["A"])(),Object(r["g"])(n,{key:e.groupID,group:e},null,8,["group"])})),128))])])}var ht={class:"col-3"},xt={class:"q-pa-md row items-start q-gutter-md",dark:""},_t={class:"text-h5 q-mt-sm q-mb-xs"},Ct=Object(r["j"])("div",{class:"text-caption text-grey"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit, ",-1);function Tt(e,t){var n=Object(r["H"])("q-img"),a=Object(r["H"])("q-card-section"),o=Object(r["H"])("q-btn"),c=Object(r["H"])("q-space"),i=Object(r["H"])("q-card-actions"),s=Object(r["H"])("q-card");return Object(r["A"])(),Object(r["i"])("div",ht,[Object(r["j"])("div",xt,[Object(r["l"])(s,{class:"my-card",flat:"",bordered:""},{default:Object(r["P"])((function(){return[Object(r["l"])(n,{src:e.group.image},null,8,["src"]),Object(r["l"])(a,{class:"q-pb-none"},{default:Object(r["P"])((function(){return[Object(r["j"])("div",_t,Object(r["L"])(e.group.name),1),Ct]})),_:1}),Object(r["l"])(i,{align:"right"},{default:Object(r["P"])((function(){return[Object(r["l"])(o,{flat:"",color:"grey",label:"Buy NFT"}),Object(r["l"])(c),Object(r["l"])(o,{flat:"",color:"white",label:"加入群组",onClick:e.joinGroup},null,8,["onClick"])]})),_:1})]})),_:1})])])}var Pt=n("ab7f"),wt=n("55d0"),Mt=n("a906"),kt=new Pt["Conflux"]({url:"https://main.confluxrpc.com",defaultGasPrice:100,defaultGas:1e6,logger:console}),Lt=(kt.Contract({abi:wt,address:"CFXTEST:TYPE.CONTRACT:ACB3PS88TV5Y5GVVABB0V3DMSNB6NJ5WRPB07TT6D5"}),kt.Contract({abi:Mt,address:"0x0888000000000000000000000000000000000001"}),kt),At={name:"NFTGroupItem",props:{group:{type:Object}},setup:function(e){var t=Object(o["a"])(),n=Object(r["n"])(),a=n.appContext.config.globalProperties,c=a.tim,i=a.TIM,s=Object(C["d"])(),u=Object(r["e"])((function(){return s.state.currentNFTAddress})),l=Object(r["e"])((function(){return s.state.user.isLogin})),b=Object(r["e"])((function(){return s.state.account}));function p(){return f.apply(this,arguments)}function f(){return f=Object(Ot["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(l.value){n.next=3;break}return t.notify({message:"请登录",icon:"announcement"}),n.abrupt("return");case 3:return r=Lt.Contract({abi:wt,address:u.value}),n.next=6,r.tokensOf(b.value);case 6:if(a=n.sent,!(a.length>0)){n.next=10;break}return c.joinGroup({groupID:e.group.groupID,type:i.TYPES.GRP_PUBLIC}).then((function(e){switch(e.data.status){case i.TYPES.JOIN_STATUS_SUCCESS:console.log(e.data.gruop),t.notify({message:"加入成功！",icon:"announcement"});break;case i.TYPES.JOIN_STATUS_ALREADY_IN_GROUP:console.log("Already In Group"),t.notify({message:"已经加入！",icon:"announcement"});break}})).catch((function(e){console.warn("joinGroup Error",e)})),n.abrupt("return");case 10:t.notify({message:"您还没有这款NFT！",icon:"announcement"});case 11:case"end":return n.stop()}}),n)}))),f.apply(this,arguments)}return{joinGroup:p}}},It=n("3547"),St=n("60d3");At.render=Tt;var qt=At;ae()(At,"components",{QCard:ut["a"],QImg:It["a"],QCardSection:lt["a"],QCardActions:ft["a"],QBtn:he["a"],QSpace:St["a"]});var Dt={name:"NFTGroupContent",components:{nftGroupItem:qt},props:{groups:{type:Array}},setup:function(){return{}}};Dt.render=yt;var Ht=Dt;Object(r["D"])("data-v-378264b9");var Qt=Object(r["j"])("div",{class:"text-h6 text-center"},"链接登录Kind",-1),Et=Object(r["k"])("Conflux Portal");function Rt(e,t){var n=Object(r["H"])("q-btn"),a=Object(r["H"])("q-card-section"),o=Object(r["H"])("q-card-actions"),c=Object(r["H"])("q-card"),i=Object(r["H"])("q-dialog"),s=Object(r["I"])("close-popup");return Object(r["A"])(),Object(r["i"])(r["a"],null,[Object(r["l"])(n,{label:e.connectWalletLabel,class:"float-right",color:"grey-9",onClick:t[0]||(t[0]=function(t){return e.dialog=!0}),disabled:e.isDisabled},null,8,["label","disabled"]),Object(r["l"])(i,{modelValue:e.dialog,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.dialog=t}),persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},{default:Object(r["P"])((function(){return[Object(r["l"])(c,{class:"bg-dark text-white",style:{width:"400px"}},{default:Object(r["P"])((function(){return[Object(r["l"])(a,null,{default:Object(r["P"])((function(){return[Qt]})),_:1}),Object(r["l"])(a,{class:"q-pt-none text-center"},{default:Object(r["P"])((function(){return[Object(r["l"])(n,{color:"grey-9",onClick:e.connectConfluxPortal},{default:Object(r["P"])((function(){return[Et]})),_:1},8,["onClick"])]})),_:1}),Object(r["l"])(o,{align:"right",class:"text-white"},{default:Object(r["P"])((function(){return[Object(r["Q"])(Object(r["l"])(n,{flat:"",label:"Close"},null,512),[[s]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])],64)}Object(r["B"])();var Nt=n("83a7"),Gt=n("97ee"),Ut=n("b42e"),Ft=function(){function e(t){if(Object(Gt["a"])(this,e),"undefined"===typeof t)throw new Error("No Conflux detected");t.isConfluxPortal||console.debug("Unknown Conflux."),this.conflux=t}return Object(Ut["a"])(e,[{key:"enable",value:function(){var e=Object(Ot["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.conflux.enable();case 2:this.accounts=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAccount",value:function(){if(!this.accounts)throw new Error("Please enable Conflux Portal first");return this.accounts[0]}},{key:"sendTransaction",value:function(){var e=Object(Ot["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.conflux.sendAsync({method:"cfx_sendTransaction",params:[t],from:t.from,gasPrice:"0x09184e72a000",gas:"0x2710",value:"0x00"},(function(t,n){t?r(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Vt=new Ft(window.conflux),Bt={setup:function(){var e=Object(r["F"])(!1),t=Object(r["F"])("Conflux Portal"),n=Object(r["F"])("连接钱包"),a=Object(r["F"])(!1),o=Object(r["F"])(!1),c=Object(C["d"])(),i=Object(s["c"])(),u=Object(r["n"])(),l=u.appContext.config.globalProperties.tim;function b(){return p.apply(this,arguments)}function p(){return p=Object(Ot["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.value="初始化中...",o.value=!0,r.next=4,Vt.enable();case 4:c.state.account=Vt.getAccount(),a.value=!1,e.value=!0,n.value=c.state.account.slice(0,6).toLowerCase()+"..."+c.state.account.slice(-3,-1).toLowerCase(),f(c.state.account);case 9:case"end":return r.stop()}}),r)}))),p.apply(this,arguments)}function f(e){console.log(Object(Nt["a"])(e)),l.login({userID:e,userSig:window.genTestUserSig(e).userSig}).then((function(){c.commit("toggleIsLogin",!0),console.log("I'm Login"),i.push("/kindChat")}))}return{connectWalletLabel:n,connectConfluxPortal:b,isDisabled:e,dialog:a}}};n("cf81");Bt.render=Rt,Bt.__scopeId="data-v-378264b9";var Yt=Bt;ae()(Bt,"components",{QBtn:he["a"],QDialog:st["a"],QCard:ut["a"],QCardSection:lt["a"],QCardActions:ft["a"]}),ae()(Bt,"directives",{ClosePopup:Ue["a"]});var Kt={name:"NFTGroupContainer",components:{nftGroupContent:Ht,confluxPortal:Yt},emits:["toggleLeftDrawer"],setup:function(e,t){var n=Object(C["d"])();function a(){t.emit("toggleLeftDrawer")}var o=Object(r["e"])((function(){return n.state.currentNFTGroups}));function c(){return i.apply(this,arguments)}function i(){return i=Object(Ot["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Lt.Contract({abi:wt,address:n.state.nftList[0].address}),console.log(t),console.log(n.state.account),e.next=5,t.tokensOf(n.state.account);case 5:return r=e.sent,e.next=8,t.totalSupply();case 8:a=e.sent,console.log(a[0]),console.log(r.length>0);case 11:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}return{groups:o,toggleLeftDrawer:a,test:c}}};Kt.render=mt;var zt=Kt;function Jt(e,t){var n=Object(r["H"])("avatar"),a=Object(r["H"])("group-member-info"),o=Object(r["H"])("q-tooltip"),c=Object(r["H"])("q-item-section"),i=Object(r["H"])("q-item-label"),s=Object(r["H"])("q-item"),u=Object(r["H"])("q-list"),l=Object(r["H"])("q-scroll-area"),b=Object(r["I"])("ripple");return Object(r["A"])(),Object(r["g"])(l,{style:{height:"100vh"},"thumb-style":e.thumbStyle,delay:"1200",visible:!1},{default:Object(r["P"])((function(){return[Object(r["l"])(u,null,{default:Object(r["P"])((function(){return[(Object(r["A"])(!0),Object(r["i"])(r["a"],null,Object(r["G"])(e.members,(function(t){return Object(r["Q"])((Object(r["A"])(),Object(r["g"])(s,{key:t.userID,clickable:"",class:"q-ma-xs rounded-borders"},{default:Object(r["P"])((function(){return[Object(r["l"])(c,{avatar:""},{default:Object(r["P"])((function(){return[Object(r["l"])(n,{src:t.avatar},null,8,["src"]),Object(r["l"])(o,{"max-width":"300px",class:"bg-grey-9",anchor:"bottom left",self:"bottom right",offset:[20,8]},{default:Object(r["P"])((function(){return[Object(r["l"])(a,{avatar:t.avatar,name:e.formatName(t.nameCard||t.nick||t.userID)},null,8,["avatar","name"])]})),_:2},1024)]})),_:2},1024),Object(r["l"])(c,null,{default:Object(r["P"])((function(){return[t.nameCard?(Object(r["A"])(),Object(r["g"])(i,{key:0,lines:"1",title:t.nameCard},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.formatName(t.nameCard)),1)]})),_:2},1032,["title"])):t.nick?(Object(r["A"])(),Object(r["g"])(i,{key:1,lines:"1",title:t.nick},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.formatName(t.nick)),1)]})),_:2},1032,["title"])):(Object(r["A"])(),Object(r["g"])(i,{key:2,lines:"1",title:t.userID},{default:Object(r["P"])((function(){return[Object(r["k"])(Object(r["L"])(e.formatName(t.userID)),1)]})),_:2},1032,["title"]))]})),_:2},1024)]})),_:2},1536)),[[b]])})),128))]})),_:1})]})),_:1},8,["thumb-style"])}ae()(Kt,"components",{QHeader:Te["a"],QToolbar:ge["a"],QBtn:he["a"]});var Wt={class:"row"},Zt={class:"col-5 items-center"},Xt={class:"row no-wrap q-pa-md q-pl-xs"},$t={class:"column"},en={class:"text-subtitle1 q-ml-md q-mb-xs"},tn={class:"q-pl-md q-gutter-sm"},nn=Object(r["k"])("FC1000+"),rn=Object(r["k"])(" 12 "),an={class:"text-subtitle2"},on=Object(r["k"])("FLUX1000+"),cn=Object(r["j"])("img",{src:"https://cdn.quasar.dev/img/chaosmonkey.png"},null,-1),sn=Object(r["k"])(" Ganglia "),un=Object(r["k"])(" 3 "),ln=Object(r["j"])("span",null,"2 min ago",-1);function bn(e,t){var n=Object(r["H"])("q-img"),a=Object(r["H"])("avatar"),o=Object(r["H"])("q-badge"),c=Object(r["H"])("q-icon"),i=Object(r["H"])("q-avatar"),s=Object(r["H"])("q-item-section"),u=Object(r["H"])("q-item-label"),l=Object(r["H"])("q-item"),b=Object(r["I"])("ripple");return Object(r["A"])(),Object(r["i"])(r["a"],null,[Object(r["j"])("div",Wt,[Object(r["j"])("div",Zt,[Object(r["l"])(n,{src:"https://cdn.quasar.dev/img/parallax2.jpg","spinner-color":"white",style:{height:"150px",width:"280px"},class:"rounded-borders"})])]),Object(r["j"])("div",Xt,[Object(r["l"])(a,{src:e.avatar,size:"68px"},null,8,["src"]),Object(r["j"])("div",$t,[Object(r["j"])("div",en,Object(r["L"])(e.name),1),Object(r["j"])("div",tn,[Object(r["l"])(o,{color:"primary"},{default:Object(r["P"])((function(){return[nn]})),_:1}),Object(r["l"])(o,{color:"orange","text-color":"black",label:"2"}),Object(r["l"])(o,{color:"red"},{default:Object(r["P"])((function(){return[rn,Object(r["l"])(c,{name:"warning",color:"white",class:"q-ml-xs"})]})),_:1}),Object(r["j"])("div",an,[Object(r["l"])(o,{color:"grey"},{default:Object(r["P"])((function(){return[on]})),_:1})]),Object(r["Q"])(Object(r["l"])(l,{clickable:"",class:"bg-grey-2"},{default:Object(r["P"])((function(){return[Object(r["l"])(s,{avatar:""},{default:Object(r["P"])((function(){return[Object(r["l"])(i,{rounded:""},{default:Object(r["P"])((function(){return[cn]})),_:1})]})),_:1}),Object(r["l"])(s,null,{default:Object(r["P"])((function(){return[Object(r["l"])(u,null,{default:Object(r["P"])((function(){return[sn]})),_:1}),Object(r["l"])(u,{caption:""},{default:Object(r["P"])((function(){return[Object(r["l"])(o,{color:"yellow-6","text-color":"black"},{default:Object(r["P"])((function(){return[un,Object(r["l"])(c,{name:"warning",size:"14px",class:"q-ml-xs"})]})),_:1})]})),_:1})]})),_:1}),Object(r["l"])(s,{side:""},{default:Object(r["P"])((function(){return[ln]})),_:1})]})),_:1},512),[[b]])])])])],64)}var pn={name:"GroupMemberInfo",components:{avatar:de},props:["avatar","name"],setup:function(){}},fn=n("7d8f");pn.render=bn;var dn=pn;ae()(pn,"components",{QImg:It["a"],QSeparator:fn["a"],QBadge:Pe["a"],QIcon:ye["a"],QItem:Le["a"],QItemSection:Ae["a"],QAvatar:fe["a"],QItemLabel:Ne["a"]}),ae()(pn,"directives",{Ripple:Ge["a"]});var jn={name:"GroupMemberList",components:{avatar:de,GroupMemberInfo:dn},setup:function(){var e=Object(C["d"])(),t=Object(r["F"])(30),n=Object(r["e"])((function(){return e.state.conversation.currentConversation})),a=Object(r["e"])((function(){return e.state.group.currentMemberList})),o=Object(r["e"])((function(){return a.value.slice(0,t.value)})),c={width:"4px"};function i(e){return e.length>18?e.slice(0,18)+"...":e}return{thumbStyle:c,currentConversation:n,currentMemberList:a,members:o,formatName:i}}};jn.render=Jt;var mn=jn;ae()(jn,"components",{QScrollArea:Ie["a"],QList:ke["a"],QItem:Le["a"],QItemSection:Ae["a"],QTooltip:xe["a"],QItemLabel:Ne["a"],QAvatar:fe["a"]}),ae()(jn,"directives",{Ripple:Ge["a"]});var On={class:"row"},gn={class:"col-12 items-center"},vn={class:"row q-pa-xs q-pl-xs"},yn={class:"col-12 text-center q-py-sm"},hn={class:"col-12"},xn=Object(r["j"])("div",{class:"text-h6 q-px-sm q-mb-xs text-center"},"Jeff Galbraith",-1),_n={class:"q-px-xs q-gutter-sm text-center q-pt-xs"},Cn=Object(r["k"])("FC1000+"),Tn=Object(r["k"])(" 12 "),Pn={class:"text-subtitle2"},wn=Object(r["k"])("FLUX1000+"),Mn=Object(r["j"])("img",{src:"https://cdn.quasar.dev/img/chaosmonkey.png"},null,-1),kn=Object(r["k"])(" Ganglia "),Ln=Object(r["k"])(" 3 "),An=Object(r["j"])("span",null,"2 min ago",-1);function In(e,t){var n=Object(r["H"])("q-img"),a=Object(r["H"])("avatar"),o=Object(r["H"])("q-badge"),c=Object(r["H"])("q-icon"),i=Object(r["H"])("q-avatar"),s=Object(r["H"])("q-item-section"),u=Object(r["H"])("q-item-label"),l=Object(r["H"])("q-item"),b=Object(r["I"])("ripple");return Object(r["A"])(),Object(r["i"])(r["a"],null,[Object(r["j"])("div",On,[Object(r["j"])("div",gn,[Object(r["l"])(n,{src:"http://fanscoin.org/static/img/nft-1.63d7acb1.jpg","spinner-color":"white",style:{height:"150px",width:"280px"},class:"rounded-borders"})])]),Object(r["j"])("div",vn,[Object(r["j"])("div",yn,[Object(r["l"])(a,{src:e.avatar,size:"78px"},null,8,["src"])]),Object(r["j"])("div",hn,[xn,Object(r["j"])("div",_n,[Object(r["l"])(o,{color:"primary"},{default:Object(r["P"])((function(){return[Cn]})),_:1}),Object(r["l"])(o,{color:"orange","text-color":"black",label:"2"}),Object(r["l"])(o,{color:"red"},{default:Object(r["P"])((function(){return[Tn,Object(r["l"])(c,{name:"warning",color:"white",class:"q-ml-xs"})]})),_:1}),Object(r["j"])("div",Pn,[Object(r["l"])(o,{color:"grey"},{default:Object(r["P"])((function(){return[wn]})),_:1})]),Object(r["Q"])(Object(r["l"])(l,{clickable:"",class:"bg-grey-7 q-mt-md"},{default:Object(r["P"])((function(){return[Object(r["l"])(s,{avatar:""},{default:Object(r["P"])((function(){return[Object(r["l"])(i,{rounded:""},{default:Object(r["P"])((function(){return[Mn]})),_:1})]})),_:1}),Object(r["l"])(s,null,{default:Object(r["P"])((function(){return[Object(r["l"])(u,null,{default:Object(r["P"])((function(){return[kn]})),_:1}),Object(r["l"])(u,{caption:""},{default:Object(r["P"])((function(){return[Object(r["l"])(o,{color:"yellow-6","text-color":"black"},{default:Object(r["P"])((function(){return[Ln,Object(r["l"])(c,{name:"warning",size:"14px",class:"q-ml-xs"})]})),_:1})]})),_:1})]})),_:1}),Object(r["l"])(s,{side:""},{default:Object(r["P"])((function(){return[An]})),_:1})]})),_:1},512),[[b]])])])])],64)}var Sn={components:{Avatar:de}};Sn.render=In;var qn=Sn;ae()(Sn,"components",{QImg:It["a"],QSeparator:fn["a"],QBadge:Pe["a"],QIcon:ye["a"],QItem:Le["a"],QItemSection:Ae["a"],QAvatar:fe["a"],QItemLabel:Ne["a"]}),ae()(Sn,"directives",{Ripple:Ge["a"]});var Dn={name:"KindChat",components:{CurrentConversation:De,ConversationList:Be,GroupList:Xe,nftList:dt,nftGroupContainer:zt,GroupMemberList:mn,userProfile:qn},computed:Object(h["a"])({},Object(C["c"])({isLogin:function(e){return e.user.isLogin},isSDKReady:function(e){return e.user.isSDKReady},userID:function(e){return e.user.userID},userSig:function(e){return e.user.userSig},sdkAppID:function(e){return e.user.sdkAppId}})),setup:function(){var e=Object(C["d"])(),t=Object(r["F"])(!1),n=Object(r["F"])(!1),a=Object(r["n"])(),c=a.appContext.config.globalProperties,i=c.tim,s=c.TIM,u=Object(r["F"])("nft-list"),l=Object(r["e"])((function(){return u.value})),b=Object(r["e"])((function(){return"conversation-list"==u.value||"group-list"==u.value?"current-conversation":"nft-group-container"})),p=Object(r["e"])((function(){return e.state.conversation.currentConversation.type})),f=Object(r["e"])((function(){switch(console.log(p.value),p.value){case"GROUP":return"group-member-list";case"C2C":return"user-profile";default:return"group-member-list"}})),d=Object(r["F"])(!1);function j(){console.log("testing"),i.joinGroup({groupID:"123",type:s.TYPES.GRP_PUBLIC}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}function m(t){var n=t.data;e.commit("pushCurrentMessageList",n)}function O(t){var n=t.data;"Network Error"!==n.message&&e.commit("showMessage",{message:n.message,type:"error"})}function g(){}function v(t){var n=t.name,r=n===this.TIM.EVENT.SDK_READY;e.commit("toggleIsSDKReady",r),r&&(this.tim.getMyProfile().then((function(t){var n=t.data;e.commit("updateCurrentUserProfile",n)})).catch((function(t){e.commit("showMessage",{type:"error",message:t.message})})),e.dispatch("getBlacklist"))}function y(e){switch(e){case s.TYPES.KICKED_OUT_MULT_ACCOUNT:return"由于多实例登录";case s.TYPES.KICKED_OUT_MULT_DEVICE:return"由于多设备登录";case s.TYPES.KICKED_OUT_USERSIG_EXPIRED:return"由于 userSig 过期";default:return""}}function h(e){switch(e){case s.TYPES.NET_STATE_CONNECTED:return{message:"已接入网络",type:"success"};case s.TYPES.NET_STATE_CONNECTING:return{message:"当前网络不稳定",type:"warning"};case s.TYPES.NET_STATE_DISCONNECTED:return{message:"当前网络不可用",type:"error"};default:return""}}function x(t){e.commit("showMessage",h(t.data.state))}function T(t){e.commit("showMessage",{message:"".concat(y(t.data.type),"被踢出，请重新登录。"),type:"error"}),e.commit("toggleIsLogin",!1),e.commit("reset")}function P(t){e.commit("updateConversationList",t.data)}function w(t){e.commit("updateGroupList",t.data)}Object(r["O"])(u,(function(){"nft-list"!=u.value?d.value=!0:d.value=!1}));var M=Object(o["a"])(),k=Object(r["F"])(null);function L(){A()()}function A(){return function(){k.value||(k.value=setTimeout((function(){k.value=null,i.getConversationList().then((function(){M.notify({message:"刷新成功！",position:"top",color:"grey-9"})}))}),1e3))}}function I(){i.on(s.EVENT.SDK_READY,v),i.on(s.EVENT.SDK_NOT_READY,v),i.on(s.EVENT.KICKED_OUT,T),i.on(s.EVENT.ERROR,O),i.on(s.EVENT.MESSAGE_RECEIVED,m),i.on(s.EVENT.CONVERSATION_LIST_UPDATED,P),i.on(s.EVENT.GROUP_LIST_UPDATED,w),i.on(s.EVENT.NET_STATE_CHANGE,x),i.on(s.EVENT.MESSAGE_READ_BY_PEER,g)}return Object(r["y"])((function(){I()})),fetch("http://192.168.88.129:8000/api/nft/contracts/").then((function(e){return e.json()})).then((function(t){console.log(t),e.state.nftList=t})),{leftDrawerOpen:t,toggleLeftDrawer:function(){t.value=!t.value},rightDrawerOpen:n,toggleRightDrawer:function(){n.value=!n.value},logo:_.a,drawer:Object(r["F"])(!1),miniState:Object(r["F"])(!0),currentLeftDrawerComponent:l,currentContainerComponent:b,currentLeftTab:u,showRightDrawer:d,test:j,handleRefresh:L,currentRightDrawerComponent:f}}},Hn=(n("7ebf"),n("e419")),Qn=n("a789"),En=n("493f");Dn.render=y;var Rn=Dn;ae()(Dn,"components",{QLayout:Hn["a"],QDrawer:Qn["a"],QToolbar:ge["a"],QToolbarTitle:we["a"],QBtn:he["a"],QMenu:Me["a"],QList:ke["a"],QItem:Le["a"],QItemSection:Ae["a"],QHeader:Te["a"],QIcon:ye["a"],QTooltip:xe["a"],QAvatar:fe["a"],QPageContainer:En["a"],QChatMessage:ne["a"],QScrollArea:Ie["a"]}),ae()(Dn,"directives",{Ripple:Ge["a"]});var Nn={id:"parent",class:"fit row justify-center items-center text-white bg-grey-10",style:{overflow:"hidden","min-height":"100vh"}},Gn={class:"col-md-3 col-sm-3 col-xs-9 q-px-lg q-py-lg bg-grey-9 rounded-borders",style:{overflow:"auto"}},Un=Object(r["j"])("h6",{class:"text-center q-my-lg"},"链接钱包登录Kind",-1),Fn={class:"text-center"};function Vn(e,t){var n=Object(r["H"])("q-btn");return Object(r["A"])(),Object(r["i"])("div",Nn,[Object(r["j"])("div",Gn,[Un,Object(r["j"])("div",Fn,[Object(r["l"])(n,{label:"Conflux Portal",color:"dark",onClick:e.connectConfluxPortal},null,8,["onClick"])])])])}var Bn={setup:function(){var e=Object(s["c"])(),t=Object(r["F"])(!1),n=Object(C["d"])(),a=Object(r["F"])(!1),o=Object(r["F"])(!1),c=Object(r["F"])("连接钱包"),i=Object(r["F"])(!1),u=Object(r["n"])(),l=u.appContext.config.globalProperties.tim;function b(){return p.apply(this,arguments)}function p(){return p=Object(Ot["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=!0,e.next=3,Vt.enable();case 3:n.state.account=Vt.getAccount(),console.log(n.state.account),j(n.state.account);case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(){return d.apply(this,arguments)}function d(){return d=Object(Ot["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.state.account){e.next=3;break}return console.log("not account "),e.abrupt("return");case 3:return n.state.balance="Loading...",console.log("refreshing..."),e.next=7,Lt.getBalance(n.state.account);case 7:n.state.balance=e.sent,n.state.balance=Object(Pt["Drip"])(n.state.balance).toCFX();case 9:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function j(t){console.log(Object(Nt["a"])(t)),l.login({userID:t,userSig:window.genTestUserSig(t).userSig}).then((function(){n.commit("toggleIsLogin",!0),console.log("I'm Login"),e.push("/kindChat")}))}return{accept:t,login:j,connectConfluxPortal:b,showRefreshBtn:o,refreshBalance:f,isDisabled:a,account:c,isConnecting:i}}};Bn.render=Vn;var Yn=Bn;ae()(Bn,"components",{QBtn:he["a"]});var Kn=[{path:"/",name:"Home",component:Rn},{path:"/KindChat",name:"KindChat",component:Rn},{path:"/login",name:"Loign",component:Yn}],zn=Object(s["a"])({history:Object(s["b"])("/"),routes:Kn}),Jn=zn,Wn=n("dddf"),Zn=n.n(Wn),Xn=n("cb53"),$n=n.n(Xn),er=Zn.a.create({SDKAppID:window.genTestUserSig("").SDKAppID});window.setLogLevel=er.setLogLevel,er.setLogLevel(4),er.registerPlugin({"tim-upload-plugin":$n.a});var tr=er,nr={state:{currentUserProfile:{},isLogin:!1,isSDKReady:!1,userID:0,userSig:"",sdkAppID:0},mutations:{updateCurrentUserProfile:function(e,t){e.currentUserProfile=t},toggleIsLogin:function(e,t){e.isLogin="undefined"===typeof t?!e.isLogin:t},toggleIsSDKReady:function(e,t){e.isSDKReady="undefined"===typeof t?!e.isSDKReady:t},reset:function(e){Object.assign(e,{currentUserProfile:{},isLogin:!1,isSDKReady:!1})},GET_USER_INFO:function(e,t){e.userID=t.userID,e.userSig=t.userSig,e.sdkAppID=t.sdkAppID}},actions:{logout:function(e){e.rootState.conversation.currentConversation.conversationID&&tr.setMessageRead({conversationID:e.rootState.conversation.currentConversation.conversationID}),tr.logout().then((function(){e.commit("toggleIsLogin"),e.commit("stopComputeCurrent"),e.commit("reset")}))}}},rr=nr,ar=n("0344");n("f6a2"),n("9135"),n("0029"),n("4820"),n("65ff"),n("29e3");function or(e){var t=e>0;t?document.title.search(/\((.*?)\)/)>=0?document.title=document.title.replace(/\((.*?)\)/,"(".concat(e>99?"99+":e,")")):document.title="(".concat(e,")").concat(document.title):document.title=document.title.replace(/\((.*?)\)/,"")}n("d9dd");function cr(e){e.forEach((function(e){if(!e.callType){if(e.type===Zn.a.TYPES.MSG_MERGER&&""!==e.payload.downloadKey){var t=window.tim.downloadMergerMessage(e);t.then((function(t){e=t})).catch((function(e){console.warn("downloadMergerMessage error:",e)}))}if(e.type===Zn.a.TYPES.MSG_CUSTOM){var n={};try{n=JSON.parse(e.payload.data)}catch(s){n={}}if(1===n.businessID){if(e.conversationType===Zn.a.TYPES.CONV_GROUP){5===n.actionType&&(e.nick=n.inviteeList?n.inviteeList.join(","):e.from);var r=window.trtcCalling.extractCallingInfoFromMessage(e),a="".concat(r);e.type=Zn.a.TYPES.MSG_GRP_TIP;var o={operationType:256,text:a,userIDList:[]};e.payload=o}if(e.conversationType===Zn.a.TYPES.CONV_C2C){var c=window.trtcCalling.extractCallingInfoFromMessage(e),i={text:c};e.payload=i}}}}}))}var ir={state:{currentConversation:{},currentMessageList:[],nextReqMessageID:"",isCompleted:!1,conversationList:[],callingInfo:{memberList:[],type:"C2C"},audioCall:!1,isShowConversationList:!1,selectedMessageList:[],relayType:1,mergerMessageList:[],mergerMessage:{},relayMessage:{},selectMessage:!1},getters:{toAccount:function(e){if(!e.currentConversation||!e.currentConversation.conversationID)return"";switch(e.currentConversation.type){case"C2C":return e.currentConversation.conversationID.replace("C2C","");case"GROUP":return e.currentConversation.conversationID.replace("GROUP","");default:return e.currentConversation.conversationID}},currentConversationType:function(e){return e.currentConversation&&e.currentConversation.type?e.currentConversation.type:""},totalUnreadCount:function(e){var t=e.conversationList.reduce((function(t,n){return br.getters.hidden||e.currentConversation.conversationID!==n.conversationID?t+n.unreadCount:t}),0);return or(t),t},imgUrlList:function(e){return e.currentMessageList.filter((function(e){return e.type===Zn.a.TYPES.MSG_IMAGE&&!e.isRevoked})).map((function(e){return e.payload.imageInfoArray[0].url}))}},mutations:{setCallingList:function(e,t){e.callingInfo.memberList=t.memberList,e.callingInfo.type=t.type},showConversationList:function(e,t){e.isShowConversationList=t},setSelectedMessageList:function(e,t){e.selectedMessageList=t},setRelayType:function(e,t){e.relayType=t},setMergerMessage:function(e,t){e.mergerMessage=t,e.mergerMessageList=[].concat(Object(ar["a"])(e.mergerMessageList),[t])},setRelayMessage:function(e,t){e.relayMessage=t},updateMergerMessage:function(e,t){e.mergerMessage=t,e.mergerMessageList.pop()},setSelectedMessage:function(e,t){e.selectMessage=t},resetSelectedMessage:function(e,t){e.selectMessage=t,Object.assign(e,{selectedMessageList:[]})},resetMergerMessage:function(e,t){e.mergerMessagePop=t,Object.assign(e,{mergerMessage:{},mergerMessageList:[]})},showAudioCall:function(e,t){e.audioCall=t},updateCurrentConversation:function(e,t){e.currentConversation=t,e.currentMessageList=[],e.nextReqMessageID="",e.isCompleted=!1},updateConversationList:function(e,t){e.conversationList=t},resetCurrentConversation:function(e){e.currentConversation={}},pushCurrentMessageList:function(e,t){if(e.currentConversation.conversationID)if(Array.isArray(t)){var n=t.filter((function(t){return t.conversationID===e.currentConversation.conversationID}));e.currentMessageList=[].concat(Object(ar["a"])(e.currentMessageList),Object(ar["a"])(n)),cr(e.currentMessageList)}else t.conversationID===e.currentConversation.conversationID&&(e.currentMessageList=[].concat(Object(ar["a"])(e.currentMessageList),[t]),cr(e.currentMessageList))},removeMessage:function(e,t){var n=e.currentMessageList.findIndex((function(e){var n=e.ID;return n===t.ID}));n>=0&&e.currentMessageList.splice(n,1)},reset:function(e){Object.assign(e,{currentConversation:{},currentMessageList:[],nextReqMessageID:"",isCompleted:!1,conversationList:[]})}},actions:{getMessageList:function(e,t){if(e.state.isCompleted)e.commit("showMessage",{message:"已经没有更多的历史消息了哦",type:"info"});else{var n=e.state,r=n.nextReqMessageID,a=n.currentMessageList;tr.getMessageList({conversationID:t,nextReqMessageID:r,count:15}).then((function(t){e.state.nextReqMessageID=t.data.nextReqMessageID,e.state.isCompleted=t.data.isCompleted,e.state.currentMessageList=[].concat(Object(ar["a"])(t.data.messageList),Object(ar["a"])(a)),cr(e.state.currentMessageList)}))}},checkoutConversation:function(e,t){if(e.commit("resetCurrentMemberList"),e.commit("resetSelectedMessage",!1),e.state.currentConversation.conversationID){var n=e.state.currentConversation.conversationID;tr.setMessageRead({conversationID:n})}return tr.setMessageRead({conversationID:t}),tr.getConversationProfile(t).then((function(n){var r=n.data;return e.commit("updateCurrentConversation",r.conversation),e.dispatch("getMessageList",t),r.conversation.type===Zn.a.TYPES.CONV_GROUP?e.dispatch("getGroupMemberList",r.conversation.groupProfile.groupID):Promise.resolve()}))}}},sr=ir,ur=(n("54e9"),n("847f"),{state:{groupList:[],currentMemberList:[],createGroupModelVisible:!1},getters:{hasGroupList:function(e){return e.groupList.length>0}},mutations:{updateGroupList:function(e,t){e.groupList=t},updateCreateGroupModelVisible:function(e,t){e.createGroupModelVisible=t},updateCurrentMemberList:function(e,t){e.currentMemberList=[].concat(Object(ar["a"])(e.currentMemberList),Object(ar["a"])(t))},deleteGroupMemeber:function(e,t){e.currentMemberList=e.currentMemberList.filter((function(e){return e.userID!==t}))},deleteGroupMemberList:function(e,t){e.currentMemberList=e.currentMemberList.filter((function(e){return!t.includes(e.userID)}))},resetCurrentMemberList:function(e){e.currentMemberList=[]},reset:function(e){Object.assign(e,{groupList:[],currentMemberList:[],createGroupModelVisible:!1})}},actions:{updateGroupList:function(e,t){e.commit("updateGroupList",t)},getGroupMemberList:function(e,t){return tr.getGroupMemberList({groupID:t,offset:e.state.currentMemberList.length,count:30}).then((function(t){return e.commit("updateCurrentMemberList",t.data.memberList),t}))}}}),lr=ur,br=Object(C["a"])({state:{current:Date.now(),balance:"",account:"",nftList:[],currentNFTName:"Conflux矿工纪念",currentNFTAddress:"",currentNFTGroups:[]},getters:{hidden:function(e){e.current;return"function"!==typeof document.hasFocus?document.hidden:!document.hasFocus()}},mutations:{checkoutCurrentNFT:function(e,t){e.currentNFTName=t.name,e.currentNFTAddress=t.address},checkoutCurrentNFTGroups:function(e,t){e.currentNFTGroups=t}},actions:{},modules:{user:rr,conversation:sr,group:lr}}),pr=n("9337"),fr=(n("0e21"),n("2b7c"),n("81cf")),dr={config:{},plugins:{Notify:fr["a"]}};window.tim=tr,window.TIM=Zn.a;var jr=Object(r["f"])(i).use(pr["a"],dr).use(br).use(Jn);jr.config.globalProperties.tim=tr,jr.config.globalProperties.TIM=Zn.a,jr.config.globalProperties.bus=Object(r["f"])({}),jr.mount("#app")},"64be":function(e,t,n){"use strict";n("0206")},"75b3":function(e,t,n){e.exports=n.p+"img/caucx-logo.064e4807.png"},"7ebf":function(e,t,n){"use strict";n("aa39")},"8daa":function(e,t,n){},9498:function(e,t,n){"use strict";n("8daa")},a906:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"internalType":"address[]","name":"","type":"address[]"}],"name":"add_privilege","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address[]","name":"","type":"address[]"}],"name":"remove_privilege","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"contract_addr","type":"address"}],"name":"set_sponsor_for_collateral","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"contract_addr","type":"address"},{"internalType":"uint256","name":"upper_bound","type":"uint256"}],"name":"set_sponsor_for_gas","outputs":[],"payable":true,"stateMutability":"payable","type":"function"}]')},aa39:function(e,t,n){},cf81:function(e,t,n){"use strict";n("e73d")},e73d:function(e,t,n){},f6e3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACpCAMAAAHy0MbyAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJYUExURQrBYAvBYRPDZhzGbCXIcSrJdSHHbxjFaQ7CYwzBYSnJdEzSi3bcpqLnw87z3+X47uj58Ov68uz68+n58ef579/36rzu05Djt2TYmz7OghnFai/KeIHfrcPw2OP47fz+/f////P8+Nb15K7ry1vVlBrFaw7CYlDTjqrqyPP899j15YrhsxDCZFfUksDv1vr+/C7KdyzKdq3qynLbo2HXmf7//rTszhTDZo/jtk7SjCjJc7nt0fX9+THLes3y3/3//oXgsA3CYjTMe5HjuA/CY8/z4IDfrRbEaLft0GbYnO779Pb9+cLv1x3GbNL04ub575zmv5flvEDPgzDLeaXoxIzitPD79TXMfB7GbeL47F7WlhLDZavqyfj9+03SjN326YvitEbQh3jdqO/79CLHcLHrzE/TjSPHcOT47vH79rHrzUvSivf9+vn++8zy3lXUkdf15SDHblnVk+D36ybIclrVlGfZnHjdpznNf1HTjhfEadv26I3itUfRiMfx26Pow0HPhJPkuZjlvMHv1zjNfkTQhWnZnhvFa8ry3TLLepXkurbt0Gvan4LfrknRiV/Wl9X05HHbo7/v1Z3mv8jx24jhskjRiTrNf8nx3Mvy3WLXmUfQh0XQhu3681LTj9n15ljVk2XYm6/ry+H37Or68bXsz2PYmjfMfW3aoLvu0zbMfTPLe77u1S7KeErRirDrzNr253fcpkPPhSvJdafpxr3u1N736n/frPL89o7itW/boWDXl3ndqJvmvvv+/Xveqsbx2tz26fT8+BHDZD3OgYTgr4fhsQAAAKRC35oAAADIdFJOU/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8A9ppxxwAAAAlwSFlzAAAXEQAAFxEByibzPwAABVpJREFUaEPt2zuP2koUB3BaN1dCLikwols5fVb5Cim3QaxEtNomDdJKaHWbbaBASPcTUKVBShv6NNH6e2Uefxs/5u0H7NX5NXiOzwwjY+yxPR4N422MhYqEw/KFiDbiZ3UY0V7D1ThizDMiAmIcIkIURaycxlGEQCFLRvUvlDJ8/j+MP2OhTGymxoqxCDc2ioz6/mgo5hB1C39BtBZGkEFAQIiLERKiKN2xtc0ffpSkD1MsVhzxSZxgoydLlA2QKfyLmA7S4Buiaitk5RBWQ04BYTXkFBBWQ04BYTXkFA6IqyCl5AvWNGB9DVbWYW3NGWvVZGOZsb8X8i+MAiHe5rOFeYfMbcSuliQzlA3WSGUQ0fqGPAExHWRJvxFUwzk2h6gacnKIqiEnt0VYCTm5FcJKyMlVzrB1yMl9tFzTBn5ASgFxFWRc6I+YSCjDmoZGDzisq8PaKuWQR52qaTi/BKjB2jo28mZjb7k2TkRRLGv9lCcgTUdrkiQbpbZTVk5003VYH2X3lo4SQkiAN3EokhYbBNuqDFWkN6xqoTRWKmt5d2SJZhSQESQfAyohJwRa0ECSvzka0LhHmrcZGtBYI80b6usYR1kG7ARuRO1KH63d0D8GausFdfiAykbI9fAdNS0+Id2RU2cl1HCivHrQ8bgPihpuvqOSi/RxFRd4XSwyU1bEIndKUcVbym8fYplhBeNlswfWVIJuTXh35WIH7lhjvEHhAcEuRO9/ZKOrPSKEEEIIIVey+e+f8Wy8e3V4yuxuWb4AV02QCFO/rH9CvB3FLRPlbB5P6lsmWBnuBQ3VYXUwNNPg8NTPhA+o1Vr9eKb7UUgJUnt8WDFHTgDDXTkGSQHM97ncHt6ooAGN4NtctstZZHnbo74O0rxpHsgVkObtHvV1Qq+4be2G3hCndiVqV6J2pb7afUJ9HbcpYk316Xx15smAeqiuhzxPW9TWq8xQdmW9u+53J7VQ3Dc0CJgCa98KHJLd2c5tOaQ7QzUr46yoJpeNK3ndY85QyYXPcApV3KCOA9cfTZqglp1fu+7/utT9Z9NNoFJLj2s8nuBYZSxx1dKd919OTKxixLOiNC+OnnkJBdtUKzN+ALo8gub/byy2xVq6bMRKoR3WxekjllfsJw1+fl7H+pjEfHd65ztKV90did/q8hynw+lmomEIfi6mdEKr284nx02y7GlPU+4IIYQQQgghhBBisVxuNptOp4j0YpOt60/wF/MfN9nvHzt0UGH2OfTJUT9eTdMipPmt9Hhj2K4Vr6hwTYcFOuOiu3lUYZauWzZ31S3s90hD2F3vQKF4xdBudq3/3G90wFfoc+t2grYtN75Gf1/x5QEWaGJAL7YpBSah0w3C2SZWGI0HPzzoJ0+66GZ2rDuPV+tUWkyvDGKbvGOx7vbxn9UnfG+g1cDnirbdfUE7A6Hu9om62yfqbp+ou336YN1tMTjn4oFPwm5TR/U6m+flJOCKvSr8vZQA5ZlggQa8/jn7TMTU8ZpZ20ary7SLfMpiv9J2V2klsfuE3WBHfFcnMjTal32buwsKcfgbcQ463bRSfxeZ6Rpf0a2A9xtcTLo4fKn0soH3fAp6P/o4xfWw3+amPfzhetpzuR2+olv3fMp89+56HJ1F+4kCdpQTihVnuc/HB5TLDpOB75VJE9GjZKX6cow1Bx0xWkR4A+AB5ZIU58Gejq5hnnGUaxxCMdacnlC+EZP8qHwqvwyB/ZZF0xt7RSJdF4eN6Wl7PP7asoHmFNv2J5JuyVk3Wnu8yt/fKkq32Jwlq/tbflMmet/e/ZEdncZfj0Gvvw4s35ztXpkjhBBCCCGkrdHoLzv9X1u4OdoGAAAAAElFTkSuQmCC"}});
//# sourceMappingURL=app.81c0bd87.js.map